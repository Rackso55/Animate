<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    <h:head>

    </h:head>
    <h:body>
        <f:metadata>
            <f:event type="preRenderView" listener="#{juegoC.init}" />
        </f:metadata>
        <ui:composition template="plantillas/hola.xhtml">
            <ui:define name="content">
                <f:facet name="last">
                    <h:outputStylesheet name="css/pf-override.css" />
                </f:facet>
                <div id='contenedor_info_juego' class="col-md-offset-1 col-md-10">
                    <center>
                        <h2>#{juegoC.juego.tema}</h2>
                        <h:panelGrid columns="2" styleClass="mi-panel-grid2">
                            <p:outputLabel for="nombre" value="Juego:"/>
                            <p:outputLabel id="nombre" value="#{juegoC.juego.nombre}"/>
                            <p:outputLabel for="autor" value="Autor:"/>
                            <p:outputLabel id="autor" value="#{juegoC.juego.autor}"/>
                            <p:outputLabel for="version" value="Versión:"/>
                            <p:outputLabel id="version" value="#{juegoC.juego.version}"/>
                            <p:outputLabel for="descripcion" value="Descripción:"/>
                            <p:outputLabel id="descripcion" value="#{juegoC.juego.descripcion}"/>
                        </h:panelGrid> 
                         <a href="http:/#{juegoC.juego.ruta}index.html" class='decora_boton'> JUGAR </a>
                        <p:separator/>
                        <h:form>
                            <h:panelGrid columns="3" styleClass="mi-panel-grid">
                                <p:outputLabel for="comentario" value="Escribe un comentario" style="font-size: 18px;"/>
                                <p:inputTextarea id="comentario" value="#{juegoC.comentario.comentario}" required="true"/>
                                <p:commandButton value="Comenta" actionListener="#{juegoC.comentar(sesionC.usuario)}" update="@form">
                                    <f:param name="juegoId" value="#{juegoC.juego.idJuego}"/>
                                </p:commandButton>
                            </h:panelGrid>
                            <table class='table table-striped table-bordered' style="margin-top: 10px;" >
                                <thead>
                                    <tr class="info">
                                        <th>Usuario</th>
                                        <th>Comentario</th>
                                        <th>Fecha</th>
                                    </tr>
                                </thead>
                                <tbody>

                                    <p:dataList value="#{juegoC.comentarios}" var="comentario" type="definition">
                                        <tr>
                                            <th>
                                                <p:outputLabel value="#{comentario.estudiante.nombre}"/>
                                            </th>
                                            <th>
                                                <p:outputLabel value="#{comentario.comentario}"/>
                                            </th>
                                            <th>
                                                <p:outputLabel value="#{juegoC.formateaFecha(comentario.fecha)}"/>
                                            </th>
                                        </tr>
                                    </p:dataList>
                                </tbody>
                            </table>
                        </h:form>
                    </center>
                </div>
            </ui:define>
        </ui:composition>

    </h:body>
</html>
